# ğŸ“° The Daily Dispatch

A modern, role-aware **Django** news portal for publishing and managing articles.  
Built with a focus on editorial workflows â€” Admins, Editors, Reporters, Moderators and Subscribers â€” plus user profiles, comments, email activation and image support.

---

## ğŸš€ Live Website

**Production:** [https://the-daily-dispatch-uvb3.onrender.com/](https://the-daily-dispatch-uvb3.onrender.com/)

**GitHub:** [https://github.com/Mahmud-Hasan2024/The-Daily-Dispatch](https://github.com/Mahmud-Hasan2024/The-Daily-Dispatch)

---

## ğŸ‘¤ Demo Accounts (use on the deployed site)

| Role       | Username | Password   |
| ---------- | -------- | ---------- |
| Admin      | `Daisy`  | `kgb12345` |
| Editor     | `Smith`  | `kgb12345` |
| Reporter   | `Asim`   | `kgb12345` |
| Moderator  | `Shakib` | `kgb12345` |
| Subscriber | `Ziyad`  | `kgb12345` |

---

## ğŸŒŸ Key Features

### ğŸ” Authentication & Activation

- User signup, login and logout flows.
- **Email activation**: new users are created as inactive; an activation email (token-based) is sent via signals. Users must activate before logging in.

### ğŸ§‘â€ğŸ’¼ Role-Based Access Control (RBAC)

- Roles implemented with **Django Groups**: `Admin`, `Editor`, `Reporter`, `Moderator`, `Subscriber`.
- Role helpers and checks live in `users.utils` (e.g. `is_admin`, `is_editor`, `is_reporter`).
- Views use `@user_passes_test` and custom decorators to restrict access to dashboards and CRUD endpoints.

### ğŸ“° Article Management

- `Article` model supports `pending` / `published` states.
- Authors (Admin/Editor/Reporter) can create/update/delete articles depending on role and ownership rules:

  - Reportersâ€™ articles default to `pending`.
  - Admins/Editors can approve (publish) articles.

- Article images supported with `ImageField` and a default image (`article_images/breaking.webp`).
- Article slug is autogenerated from the title.

### ğŸ’¬ Comments

- Full comment CRUD: create, update, delete.
- Comments are tied to `Article` and `User`, with timestamps.

### âœ‰ï¸ Signals & Emails

- Signals auto-send:

  - Account activation email when a user is created.
  - Notification email to the author when their article status changes to `published`.

- Email sending uses Djangoâ€™s `send_mail` â€” configure your SMTP settings in `settings.py`.

### ğŸ‘¤ Profiles

- `Profile` model (OneToOne with User) stores phone number, profile image (default `profile_images/default.png`) and bio.
- Profile is created automatically via post-save signals.

### ğŸ§ª DB Seeding

- A custom management command seeds:

  - Groups (roles), users, profiles, categories, articles (with fetched images), and comments.

- The seed script applies publishing rules: Admin/Editor articles are published; Reporter articles are pending.

---

## ğŸ“‚ Project Structure (high level)

```bash
The-Daily-Dispatch/
â”‚
â”œâ”€â”€ daily_dispatch/        # Django project settings & URLs
â”œâ”€â”€ news/                  # Article, Category models; article views & templates
â”œâ”€â”€ comments/              # Comment model & views
â”œâ”€â”€ users/                 # User profiles, auth, roles, signals, dashboards
â”œâ”€â”€ templates/             # Global and app templates
â”œâ”€â”€ static/                # CSS / JS / assets
â”œâ”€â”€ media/                 # Uploaded images (articles, profiles)
â”œâ”€â”€ DEPLOYMENT.md          # Deployment & demo account info
â”œâ”€â”€ About_Author.md        # Author bio
â”œâ”€â”€ requirements.txt
â”œâ”€â”€ manage.py
â””â”€â”€ README.md
```

---

## ğŸ› ï¸ Local Setup (Run locally)

1.  **Clone**

```bash
git clone https://github.com/Mahmud-Hasan2024/The-Daily-Dispatch.git
cd The-Daily-Dispatch
```

2.  **Create & activate venv**

```bash
python -m venv venv
# macOS / Linux
source venv/bin/activate
# Windows
venv\Scripts\activate
```

3.  **Install**

```bash
pip install -r requirements.txt
```

4.  **Environment / settings**

- Create a `.env` or set environment variables for:

  - `SECRET_KEY`, `DEBUG`, `ALLOWED_HOSTS`
  - Database (if using PostgreSQL in production)
  - Email: `EMAIL_HOST`, `EMAIL_PORT`, `EMAIL_HOST_USER`, `EMAIL_HOST_PASSWORD`
  - `FRONTEND_URL` used in activation email generation (e.g. `http://localhost:8000` for dev)

- For local development email, add to `settings.py`:

```py
EMAIL_BACKEND = "django.core.mail.backends.console.EmailBackend"
```

so emails print to console instead of sending.

5.  **Migrations**

```bash
python manage.py makemigrations
python manage.py migrate
```

6.  **Create superuser**

```bash
python manage.py createsuperuser
```

7.  **(Optional) Seed DB**

- You included a custom management command to seed users, roles, articles, images and comments.
- Run it like:

```bash
python manage.py <seed_command_name>
```

> The exact command name is the filename of the script located at `management/commands/<your_command>.py`. (E.g. `python manage.py seed_db` if file is `seed_db.py`.)

8.  **Run server**

```bash
python manage.py runserver
```

Open http://127.0.0.1:8000/

---

## âœ… Admin / Dashboards

- **Admin Dashboard** â€” manage all users, articles, categories, groups, permissions (view: `users/admin_dashboard.html`).
- **Editor Dashboard** â€” manage and review articles (view: `users/editor_dashboard.html`).
- **Reporter Dashboard** â€” view and manage own articles and statuses (view: `users/reporter_dashboard.html`).

---

<!-- ## ğŸ“¸ Screenshots

(Recommended) Add screenshots in a `screenshots/` folder and embed them here, e.g.:

```md
![Home](screenshots/home.png)
![Article Detail](screenshots/article_detail.png)
![Admin Dashboard](screenshots/admin_dashboard.png)
```

--- -->

## âš™ï¸ Production & Deployment Notes

- Hosted live on **Render** (see [DEPLOYMENT.md](DEPLOYMENT.md) for links and demo credentials).
- Production DB: **PostgreSQL** (Render-managed).
- Ensure these best practices when deploying:

  - `DEBUG = False`
  - Use secure `SECRET_KEY` from env
  - Configure `ALLOWED_HOSTS`
  - Serve static files (e.g., `collectstatic`) and configure `MEDIA_ROOT`/`MEDIA_URL`
  - Use a real SMTP provider or email relay for activation and notification emails
  - Do not commit secrets (remove `db.sqlite3` and `.env` from git; add them to `.gitignore`)

---

## ğŸ”’ Security Notes

- Remove `db.sqlite3` from the repository and list it in `.gitignore` before opening the project publicly.
- Keep `SECRET_KEY` and email credentials out of the repo (use environment variables).
- Consider enabling login rate-limits and account lockouts for production.

---

## ğŸ’¡ Future Enhancements (ideas)

- Add bookmarking / RSVP features (ManyToMany relationship between users & articles/events).
- Full-text search, tagging & filtering for articles.
- Comments moderation queue and spam prevention.
- REST API (Django REST Framework) implementation for articles and comments.

---

## ğŸ§¾ License

This project is available under the **MIT License**. See [LICENSE](LICENSE) for details.

---

## ğŸ™‹ Author / Contact

**Mahmud Hasan** â€” developer & maintainer

GitHub: [https://github.com/Mahmud-Hasan2024](https://github.com/Mahmud-Hasan2024)

See [About_Author.md](About_Author.md) for more information.

---
